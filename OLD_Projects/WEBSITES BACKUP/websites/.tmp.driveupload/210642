(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{2796:function(e,t,a){Promise.resolve().then(a.t.bind(a,8326,23)),Promise.resolve().then(a.bind(a,6302))},6302:function(e,t,a){"use strict";a.r(t),a.d(t,{DeleteRaceActions:function(){return _},DeleteResultButton:function(){return z}});var n=a(7437),r=a(2265),s=a(887),o=a(345),i=a(7256),l=a(6061);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:l=!1,...c}=e,u=l?i.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(d({variant:r,size:s,className:a})),ref:t,...c})});c.displayName="Button";let u=s.fC;s.xz;let f=s.h_,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});m.displayName=s.aV.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsxs)(f,{children:[(0,n.jsx)(m,{}),(0,n.jsx)(s.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r})]})});x.displayName=s.VY.displayName;let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};h.displayName="AlertDialogHeader";let p=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};p.displayName="AlertDialogFooter";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",a),...r})});b.displayName=s.Dx.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})});g.displayName=s.dk.displayName;let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.aU,{ref:t,className:(0,o.cn)(d(),a),...r})});v.displayName=s.aU.displayName;let y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.$j,{ref:t,className:(0,o.cn)(d({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});y.displayName=s.$j.displayName;var w=a(5367),j=a(6264);function N(e){let{title:t,description:a,onConfirm:s,buttonText:o="Delete",variant:i="destructive",size:l="sm"}=e,[d,f]=(0,r.useState)(!1),[m,N]=(0,r.useState)(!1),D=async()=>{N(!0);try{await s(),f(!1)}catch(e){console.error("Delete failed:",e),alert(e instanceof Error?e.message:"Failed to delete")}finally{N(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c,{variant:i,size:l,onClick:()=>f(!0),children:[(0,n.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),o]}),(0,n.jsx)(u,{open:d,onOpenChange:f,children:(0,n.jsxs)(x,{children:[(0,n.jsxs)(h,{children:[(0,n.jsx)(b,{children:t}),(0,n.jsx)(g,{children:a})]}),(0,n.jsxs)(p,{children:[(0,n.jsx)(y,{disabled:m,children:"Cancel"}),(0,n.jsx)(v,{onClick:e=>{e.preventDefault(),D()},disabled:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})}a(5231),a(470);var D=a(1162);(0,D.$)("c36ab823fcab44630680caa64b35c977a341f5f8");var R=(0,D.$)("915035b53cb641e31e8360e5c6b53bddeadbe256"),k=(0,D.$)("d16e296afcfb6a856bf3f26a915ecd4aa223af36"),T=(0,D.$)("39a2ef202467498c1cba86cb4627ade0cced986d");function _(e){let{raceId:t,meetId:a}=e,r=async()=>{await T(t),window.location.reload()},s=async()=>{await R(t,a),window.location.href="/meets/".concat(a)};return(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(N,{title:"Delete All Results",description:"This will permanently delete all results from this race. This action cannot be undone.",onConfirm:r,buttonText:"Delete Results"}),(0,n.jsx)(N,{title:"Delete Entire Race",description:"This will permanently delete this race and all its results. This action cannot be undone.",onConfirm:s,buttonText:"Delete Race"})]})}function z(e){let{resultId:t,raceId:a}=e,r=async()=>{await k(t,a),window.location.reload()};return(0,n.jsx)(N,{title:"Delete Result",description:"This will permanently delete this athlete's result. This action cannot be undone.",onConfirm:r,buttonText:"",size:"icon"})}(0,D.$)("0b116dbb9f5cbf0def61fa7f49ee495a6680b70c")},345:function(e,t,a){"use strict";a.d(t,{L_:function(){return o},cn:function(){return s},mr:function(){return i}});var n=a(7042),r=a(4769);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}function o(e){let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let a=["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."][t.getDay()],n=t.getMonth()+1,r=t.getDate(),s=t.getFullYear();return"".concat(a," ").concat(n,"/").concat(r,"/").concat(s)}function i(e){if(!e||e<=0)return"--:--";let t=Math.floor(e/100);return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"),".").concat(Math.round(e%100).toString().padStart(2,"0"))}}},function(e){e.O(0,[985,326,729,511,971,472,744],function(){return e(e.s=2796)}),_N_E=e.O()}]);