(()=>{var e={};e.id=65,e.ids=[65],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},19563:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d});var r=t(67096),a=t(16132),l=t(37284),i=t.n(l),n=t(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["courses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68464)),"/Users/ron/websites/mana-running/src/app/courses/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"/Users/ron/websites/mana-running/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/Users/ron/websites/mana-running/src/app/courses/page.tsx"],x="/courses/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/courses/page",pathname:"/courses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},477:(e,s,t)=>{Promise.resolve().then(t.bind(t,921))},921:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(53854),a=t(34218),l=t(81450);function i(){let[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[n,c]=(0,a.useState)(null),[d,o]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[g,p]=(0,a.useState)(1),[b,f]=(0,a.useState)("name"),[j,y]=(0,a.useState)("asc");(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{i(!0),c(null);let e=await l.kd.getAll();e&&s(e)}catch(e){console.error("Error loading courses:",e),c("Failed to load courses")}finally{i(!1)}},N=e=>{b===e?y("asc"===j?"desc":"asc"):(f(e),y("asc")),p(1)},_=e.filter(e=>{let s=!d||e.name.toLowerCase().includes(d.toLowerCase()),t=!x||.1>Math.abs(e.distance_miles-parseFloat(x)),r=!u||e.total_results_count&&e.total_results_count>0;return s&&t&&r}).sort((e,s)=>{let t,r;switch(b){case"name":t=e.name.toLowerCase(),r=s.name.toLowerCase();break;case"distance_miles":t=e.distance_miles||0,r=s.distance_miles||0;break;case"mile_difficulty":t=e.mile_difficulty||0,r=s.mile_difficulty||0;break;case"meets_count":t=e.meets_count||0,r=s.meets_count||0;break;case"total_results_count":t=e.total_results_count||0,r=s.total_results_count||0;break;default:return 0}return t<r?"asc"===j?-1:1:t>r?"asc"===j?1:-1:0}),w=Math.ceil(_.length/15),k=(g-1)*15,C=k+15,P=_.slice(k,C),q=[...new Set(e.map(e=>e.distance_miles).filter(Boolean))].sort((e,s)=>e-s),S=({field:e,children:s,className:t=""})=>{let a=b===e,l="asc"===j;return r.jsx("th",{className:`py-3 px-4 font-bold text-black cursor-pointer hover:bg-gray-100 transition-colors ${t}`,onClick:()=>N(e),children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[s,(0,r.jsxs)("div",{className:"flex flex-col ml-1",children:[r.jsx("svg",{className:`w-3 h-3 ${a&&l?"text-green-600":"text-gray-400"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),r.jsx("svg",{className:`w-3 h-3 -mt-1 ${a&&!l?"text-green-600":"text-gray-400"}`,fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})},M=e=>e>=1.2?"bg-red-100 text-red-800":e>=1.15?"bg-orange-100 text-orange-800":e>=1.05?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",R=e=>e>=1.2?"Very Hard":e>=1.15?"Hard":e>=1.05?"Moderate":"Fast";return t?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-xl font-semibold mb-2",children:"Loading Courses..."}),r.jsx("div",{className:"text-gray-600",children:"Getting course information..."})]})}):n?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[r.jsx("div",{className:"text-xl font-semibold mb-2 text-red-600",children:"Error"}),r.jsx("div",{className:"text-gray-600 mb-4",children:n}),r.jsx("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Try Again"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Cross Country Courses"}),r.jsx("p",{className:"text-gray-600",children:"Browse all cross country courses with meet history and performance data"})]}),r.jsx("a",{href:"/courses/import-courses",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors text-sm font-medium",children:"Import Courses"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Courses"}),r.jsx("input",{type:"text",value:d,onChange:e=>{o(e.target.value),p(1)},placeholder:"Search by course name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Distance"}),(0,r.jsxs)("select",{value:x,onChange:e=>{m(e.target.value),p(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"",children:"All Distances"}),q.map(e=>(0,r.jsxs)("option",{value:e.toString(),children:[e.toFixed(2)," miles"]},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Results Filter"}),(0,r.jsxs)("div",{className:"flex items-center h-10",children:[r.jsx("input",{type:"checkbox",id:"show-with-results",checked:u,onChange:e=>{h(e.target.checked),p(1)},className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"show-with-results",className:"ml-2 text-sm text-gray-700",children:"Has results only"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{o(""),m(""),h(!1),p(1)},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Clear Filters"})})]})}),(0,r.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",k+1,"-",Math.min(C,_.length)," of ",_.length," courses","name"!==b&&(0,r.jsxs)("span",{className:"ml-2 text-green-600",children:["(sorted by ",b.replace("_"," ")," ","asc"===j?"↑":"↓",")"]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-2xl font-bold text-black",children:"Course Directory"})}),0===_.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-500 mb-4",children:"No courses found matching your criteria."}),r.jsx("div",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters."})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b text-left bg-gray-50",children:[r.jsx(S,{field:"name",children:"Course Name"}),r.jsx(S,{field:"distance_miles",children:"Distance"}),r.jsx(S,{field:"mile_difficulty",children:"Difficulty"}),r.jsx(S,{field:"meets_count",children:"Meets"}),r.jsx(S,{field:"total_results_count",children:"Total Results"}),r.jsx("th",{className:"py-3 px-4 font-bold text-black",children:"Actions"})]})}),r.jsx("tbody",{children:P.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-4 px-4",children:r.jsx("a",{href:`/courses/${e.id}`,className:"text-lg font-bold text-green-600 hover:text-green-800 transition-colors",children:e.name})}),r.jsx("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"font-medium text-black",children:[e.distance_miles?.toFixed(2)," miles"]}),(0,r.jsxs)("div",{className:"text-gray-500",children:[e.distance_meters,"m"]})]})}),r.jsx("td",{className:"py-4 px-4",children:null!==e.mile_difficulty?(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`px-2 py-1 rounded text-sm font-semibold ${M(e.mile_difficulty)}`,children:R(e.mile_difficulty)}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[e.mile_difficulty.toFixed(3),"x vs track mile"]}),e.xc_time_rating&&(0,r.jsxs)("span",{className:"text-xs text-blue-600",children:["XC Rating: ",e.xc_time_rating.toFixed(3)]})]}):r.jsx("span",{className:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800",children:"Not Rated"})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("span",{className:"px-2 py-1 rounded text-sm font-semibold bg-blue-100 text-blue-800",children:e.meets_count||0})}),r.jsx("td",{className:"py-4 px-4 text-center",children:r.jsx("span",{className:"px-2 py-1 rounded text-sm font-semibold bg-green-100 text-green-800",children:e.total_results_count||0})}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("div",{className:"flex space-x-2",children:r.jsx("a",{href:`/courses/${e.id}`,className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors",children:"View Details"})})})]},e.id))})]})})]}),w>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-4 border-t",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",g," of ",w]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>p(Math.max(1,g-1)),disabled:1===g,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>p(Math.min(w,g+1)),disabled:g===w,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Course Rating System"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"Difficulty Rating (vs Track Mile):"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"1.00:"})," Same effort as 1-mile track"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"1.10:"})," 10% harder than track mile"]}),(0,r.jsxs)("li",{children:["• ",r.jsx("strong",{children:"1.20:"})," 20% harder than track mile"]}),r.jsx("li",{children:"• Higher rating = more challenging course"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"font-medium mb-2",children:"XC Time Conversion:"}),(0,r.jsxs)("ul",{className:"space-y-1",children:[r.jsx("li",{children:"• XC Rating converts times to Crystal Springs equivalent"}),r.jsx("li",{children:"• Allows fair comparison across different courses"}),r.jsx("li",{children:"• Used for team selection and performance analysis"}),r.jsx("li",{children:"• Based on distance and terrain difficulty"})]})]})]})]})]})})}},68464:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/ron/websites/mana-running/src/app/courses/page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[494,50,323,817,822],()=>t(19563));module.exports=r})();