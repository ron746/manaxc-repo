(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},63107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=s(67096),a=s(16132),l=s(37284),n=s.n(l),d=s(32564),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,90881)),"/Users/ron/websites/mana-running/src/app/admin/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,79113)),"/Users/ron/websites/mana-running/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ron/websites/mana-running/src/app/admin/page.tsx"],x="/admin/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46583:(e,t,s)=>{Promise.resolve().then(s.bind(s,69392))},69392:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(53854),a=s(34218),l=s(81450);function n(){let[e,t]=(0,a.useState)({schools:0,athletes:0,courses:0,meets:0,results:0}),[s,n]=(0,a.useState)(!0),[d,i]=(0,a.useState)("overview"),[o,c]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[g,p]=(0,a.useState)({first_name:"",last_name:"",graduation_year:"",gender:""}),[b,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{n(!0);let[e,s,r,a,d]=await Promise.all([l.kI.getAll(),l.jZ.getAll(),l.kd.getAll(),l.Bj.getAll(),l.Ab.getTotalCount()]);t({schools:e?.length||0,athletes:s?.length||0,courses:r?.length||0,meets:a?.length||0,results:d||0}),c(a||[]),m(s||[])}catch(e){console.error("Error loading admin data:",e)}finally{n(!1)}},j=async()=>{if(!u){alert("Please select an athlete to edit");return}try{y(!0),await l.jZ.update(u,{first_name:g.first_name||void 0,last_name:g.last_name||void 0,graduation_year:g.graduation_year?parseInt(g.graduation_year):void 0,gender:g.gender||void 0}),alert("Athlete updated successfully"),h(""),p({first_name:"",last_name:"",graduation_year:"",gender:""}),await v()}catch(e){console.error("Error updating athlete:",e),alert("Error updating athlete: "+(e instanceof Error?e.message:String(e)))}finally{y(!1)}},f=e=>{let t=x.find(t=>t.id===e);t&&p({first_name:t.first_name||"",last_name:t.last_name||"",graduation_year:t.graduation_year?.toString()||"",gender:t.gender||""})};return((0,a.useEffect)(()=>{u&&f(u)},[u]),s)?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-xl font-semibold mb-2",children:"Loading Admin Dashboard..."}),r.jsx("div",{className:"text-gray-600",children:"Getting system data..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Admin Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Manage your cross country database with bulk operations and editing tools"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:r.jsx("button",{onClick:()=>i("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"overview"===d?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"System Overview"})})}),(0,r.jsxs)("div",{className:"p-6",children:["overview"===d&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-black mb-6",children:"Database Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center p-6 bg-white border border-gray-200 rounded-lg shadow",children:[r.jsx("div",{className:"text-3xl font-bold text-black",children:e.schools}),r.jsx("div",{className:"text-sm text-gray-600",children:"Schools"})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-red-50 border border-red-200 rounded-lg shadow",children:[r.jsx("div",{className:"text-3xl font-bold text-red-600",children:e.athletes}),r.jsx("div",{className:"text-sm text-gray-600",children:"Athletes"})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-green-50 border border-green-200 rounded-lg shadow",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600",children:e.courses}),r.jsx("div",{className:"text-sm text-gray-600",children:"Courses"})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-blue-50 border border-blue-200 rounded-lg shadow",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.meets}),r.jsx("div",{className:"text-sm text-gray-600",children:"Meets"})]}),(0,r.jsxs)("div",{className:"text-center p-6 bg-yellow-50 border border-yellow-200 rounded-lg shadow",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:e.results}),r.jsx("div",{className:"text-sm text-gray-600",children:"Results"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h4",{className:"font-bold text-black mb-2",children:"Data Import"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Import race results and athlete data from CSV files"}),r.jsx("a",{href:"/import",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Import Data"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h4",{className:"font-bold text-black mb-2",children:"Search Tools"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Advanced search and filtering across all data"}),r.jsx("a",{href:"/search",className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Advanced Search"})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[r.jsx("h4",{className:"font-bold text-black mb-2",children:"System Health"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Check data integrity and system performance"}),r.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",disabled:!0,children:"Coming Soon"})]})]})]}),"bulk-edit"===d&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-black mb-6",children:"Bulk Edit Operations"}),r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[r.jsx("h4",{className:"font-bold text-black mb-4",children:"Edit Athlete Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Athlete to Edit"}),(0,r.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500",children:[r.jsx("option",{value:"",children:"Choose an athlete..."}),x.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.graduation_year,")"]},e.id))]})]}),u&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",value:g.first_name,onChange:e=>p({...g,first_name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",value:g.last_name,onChange:e=>p({...g,last_name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Graduation Year"}),r.jsx("input",{type:"number",value:g.graduation_year,onChange:e=>p({...g,graduation_year:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,r.jsxs)("select",{value:g.gender,onChange:e=>p({...g,gender:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-yellow-500 focus:border-yellow-500",children:[r.jsx("option",{value:"",children:"Select gender..."}),r.jsx("option",{value:"M",children:"Male"}),r.jsx("option",{value:"F",children:"Female"}),r.jsx("option",{value:"Boys",children:"Boys"}),r.jsx("option",{value:"Girls",children:"Girls"})]})]}),r.jsx("button",{onClick:j,disabled:b,className:"w-full bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 disabled:opacity-50",children:b?"Updating...":"Update Athlete"})]})]})]})})]})]})]}),r.jsx("div",{className:"mt-6",children:r.jsx("a",{href:"/",className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"← Back to Dashboard"})})]})})}},90881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(95153);let a=(0,r.createProxy)(String.raw`/Users/ron/websites/mana-running/src/app/admin/page.tsx`),{__esModule:l,$$typeof:n}=a,d=a.default,i=d}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[494,50,323,817,822],()=>s(63107));module.exports=r})();