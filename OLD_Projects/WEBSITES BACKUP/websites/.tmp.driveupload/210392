(()=>{var e={};e.id=533,e.ids=[533],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},66957:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>i});var t=r(67096),a=r(16132),l=r(37284),o=r.n(l),d=r(32564),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(s,n);let i=["",{children:["schools",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,47908)),"/Users/ron/websites/mana-running/src/app/schools/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,79113)),"/Users/ron/websites/mana-running/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ron/websites/mana-running/src/app/schools/[id]/page.tsx"],x="/schools/[id]/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/schools/[id]/page",pathname:"/schools/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},18896:(e,s,r)=>{Promise.resolve().then(r.bind(r,63863))},63863:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(53854),a=r(34218),l=r(81450),o=r(19066);let d=(0,o.createClientComponentClient)();function n({params:e}){let[s,r]=(0,a.useState)(null),[o,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null),[m,u]=(0,a.useState)(""),[b,p]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[j,f]=(0,a.useState)(1);(0,a.useEffect)(()=>{v()},[e.id]);let v=async()=>{try{c(!0),h(null);let s=await l.kI.getAll(),t=s?.find(s=>s.id===e.id);if(!t)throw Error("School not found");r(t);let{data:a,error:o}=await d.from("athletes").select(`
    *,
    school:schools(id, name)
  `).eq("current_school_id",e.id).order("last_name");if(o)throw o;n(a)}catch(e){console.error("Error loading school data:",e),h("Failed to load school data")}finally{c(!1)}},N=o.filter(e=>{let s=!m||e.first_name?.toLowerCase().includes(m.toLowerCase())||e.last_name?.toLowerCase().includes(m.toLowerCase()),r=!b||e.gender===b,t=!g||e.graduation_year?.toString()===g;return s&&r&&t}),w=N.sort((e,s)=>e.last_name.localeCompare(s.last_name)),k=Math.ceil(w.length/25),_=(j-1)*25,S=_+25,C=w.slice(_,S),P=[...new Set(o.map(e=>e.gender).filter(Boolean))],q=[...new Set(o.map(e=>e.graduation_year).filter(Boolean))].sort((e,s)=>s-e),A=e=>e?e.toString():"N/A";return i?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"text-xl font-semibold mb-2",children:"Loading School..."}),t.jsx("div",{className:"text-gray-600",children:"Getting athlete roster..."})]})}):x||!s?t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[t.jsx("div",{className:"text-xl font-semibold mb-2 text-red-600",children:"Error"}),t.jsx("div",{className:"text-gray-600 mb-4",children:x||"School not found"}),t.jsx("a",{href:"/schools",className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Back to Schools"})]})}):t.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[t.jsx("div",{className:"mb-6",children:(0,t.jsxs)("nav",{className:"text-sm text-gray-600",children:[t.jsx("a",{href:"/",className:"hover:text-red-600",children:"Home"}),t.jsx("span",{className:"mx-2",children:"/"}),t.jsx("a",{href:"/schools",className:"hover:text-red-600",children:"Schools"}),t.jsx("span",{className:"mx-2",children:"/"}),t.jsx("span",{className:"text-black font-medium",children:s.name})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:t.jsx("div",{className:"flex justify-between items-start",children:(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:s.name}),(0,t.jsxs)("div",{className:"text-gray-600",children:[(0,t.jsxs)("div",{children:[o.length," total athletes"]}),t.jsx("div",{className:"text-sm mt-1",children:P.map(e=>{let s=o.filter(s=>s.gender===e).length;return s>0?`${s} ${e}`:null}).filter(Boolean).join(" • ")})]})]})})}),t.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:t.jsx("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex",children:[t.jsx("div",{className:"px-6 py-4 text-sm font-medium text-blue-600 border-b-2 border-blue-600",children:"Athletes"}),t.jsx("a",{href:`/schools/${s.id}/records`,className:"px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300",children:"Records & PRs"}),t.jsx("a",{href:`/schools/${s.id}/seasons`,className:"px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300",children:"Season History"}),t.jsx("a",{href:`/schools/${s.id}/results`,className:"px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300",children:"Season Results"}),t.jsx("a",{href:`/schools/${s.id}/team-selection`,className:"px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300",children:"Team Selection"})]})})}),t.jsx("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Athletes"}),t.jsx("input",{type:"text",value:m,onChange:e=>{u(e.target.value),f(1)},placeholder:"Search by name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,t.jsxs)("select",{value:b,onChange:e=>{p(e.target.value),f(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"",children:"All Genders"}),P.map(e=>t.jsx("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Graduation Year"}),(0,t.jsxs)("select",{value:g,onChange:e=>{y(e.target.value),f(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"",children:"All Years"}),q.map(e=>(0,t.jsxs)("option",{value:e.toString(),children:["Class of ",e]},e))]})]}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{onClick:()=>{u(""),p(""),y(""),f(1)},className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Clear Filters"})})]})}),(0,t.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",_+1,"-",Math.min(S,w.length)," of ",w.length," athletes"]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsx("h2",{className:"text-2xl font-bold text-black",children:"School Roster"})}),0===w.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-500 mb-4",children:"No athletes found matching your criteria."}),t.jsx("div",{className:"text-sm text-gray-400",children:"Try adjusting your search or filters."})]}):t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"border-b text-left bg-gray-50",children:[t.jsx("th",{className:"py-3 px-4 font-bold text-black",children:"Athlete Name"}),t.jsx("th",{className:"py-3 px-4 font-bold text-black",children:"Class"}),t.jsx("th",{className:"py-3 px-4 font-bold text-black",children:"Gender"}),t.jsx("th",{className:"py-3 px-4 font-bold text-black",children:"Actions"})]})}),t.jsx("tbody",{children:C.map(e=>(0,t.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:(0,t.jsxs)("a",{href:`/athletes/${e.id}`,className:"font-bold text-red-600 hover:text-red-800 transition-colors",children:[e.last_name,", ",e.first_name]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800",children:A(e.graduation_year)})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:`px-2 py-1 rounded text-sm font-semibold ${"Boys"===e.gender||"M"===e.gender?"bg-blue-100 text-blue-800":"Girls"===e.gender||"F"===e.gender?"bg-pink-100 text-pink-800":"bg-gray-100 text-gray-800"}`,children:e.gender||"N/A"})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("a",{href:`/athletes/${e.id}`,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"View Profile"})})]},e.id))})]})})]}),k>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",j," of ",k]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>f(1),disabled:1===j,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"First"}),t.jsx("button",{onClick:()=>f(Math.max(1,j-10)),disabled:j<=10,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"-10"}),t.jsx("button",{onClick:()=>f(Math.max(1,j-5)),disabled:j<=5,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"-5"}),t.jsx("button",{onClick:()=>f(Math.max(1,j-1)),disabled:1===j,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),t.jsx("button",{onClick:()=>f(Math.min(k,j+1)),disabled:j===k,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"}),t.jsx("button",{onClick:()=>f(Math.min(k,j+5)),disabled:j>k-5,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"+5"}),t.jsx("button",{onClick:()=>f(Math.min(k,j+10)),disabled:j>k-10,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"+10"}),t.jsx("button",{onClick:()=>f(k),disabled:j===k,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Last"})]})]}),t.jsx("div",{className:"mt-6",children:t.jsx("a",{href:"/schools",className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"← Back to All Schools"})})]})})}},47908:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>o,__esModule:()=>l,default:()=>n});var t=r(95153);let a=(0,t.createProxy)(String.raw`/Users/ron/websites/mana-running/src/app/schools/[id]/page.tsx`),{__esModule:l,$$typeof:o}=a,d=a.default,n=d}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[494,50,323,817,66,822],()=>r(66957));module.exports=t})();