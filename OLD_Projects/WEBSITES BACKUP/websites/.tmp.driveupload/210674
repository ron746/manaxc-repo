(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{5242:function(e,t,s){Promise.resolve().then(s.bind(s,1978))},1978:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var a=s(7437),r=s(2265),n=s(7823),l=s(345);let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});o.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});c.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});m.displayName="CardContent";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});h.displayName="CardFooter";var u=s(1396),x=s.n(u);async function f(){try{let{data:e,error:t}=await n.OQ.from("athletes").select("\n        *,\n        school:schools(id, name)\n      ").order("last_name");if(t)return console.error("Error fetching athletes:",t),[];if(!e||0===e.length)return[];let s=e.map(e=>{var t,s;return{id:e.id,first_name:e.first_name,last_name:e.last_name,graduation_year:e.graduation_year,gender:e.gender,school_name:(null===(t=e.school)||void 0===t?void 0:t.name)||"Unknown School",school_id:(null===(s=e.school)||void 0===s?void 0:s.id)||e.current_school_id}});return s.sort((e,t)=>{let s=e.last_name.localeCompare(t.last_name);if(0!==s)return s;let a=e.first_name.localeCompare(t.first_name);if(0!==a)return a;let r=t.graduation_year-e.graduation_year;if(0!==r)return r;let n=e.school_name||"",l=t.school_name||"";return n.localeCompare(l)})}catch(e){return console.error("Exception in getAthletes:",e),[]}}function p(e){let{gender:t}=e;return"M"===t?(0,a.jsx)("span",{className:"text-blue-600 ml-2",children:"♂️"}):(0,a.jsx)("span",{className:"text-pink-600 ml-2",children:"♀️"})}function j(e){let{athletes:t}=e;return 0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-slate-500 font-medium mb-2",children:"No athletes found"}),(0,a.jsx)("div",{className:"text-slate-400 text-sm",children:"Check back later for athlete data"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 font-semibold text-slate-700",children:[(0,a.jsx)("div",{children:"Name"}),(0,a.jsx)("div",{children:"Grad Year"}),(0,a.jsx)("div",{children:"School"})]})}),(0,a.jsx)("div",{className:"divide-y divide-slate-100",children:t.map(e=>(0,a.jsx)("div",{className:"px-6 py-4 hover:bg-slate-50 transition-colors",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(x(),{href:"/athletes/".concat(e.id),className:"font-medium text-slate-900 hover:text-blue-600 transition-colors",children:[e.last_name,", ",e.first_name]}),(0,a.jsx)(p,{gender:e.gender})]}),(0,a.jsx)("div",{className:"text-slate-600 font-medium",children:e.graduation_year}),(0,a.jsx)("div",{className:"text-slate-600",children:e.school_id?(0,a.jsx)(x(),{href:"/schools/".concat(e.school_id),className:"text-slate-600 hover:text-blue-600 transition-colors",children:e.school_name||"Unknown School"}):e.school_name||"Unknown School"})]})},e.id))})]})}function N(e){let{athletes:t}=e,[s,n]=(0,r.useState)(""),l=t.filter(e=>{if(!s)return!0;let t=s.toLowerCase(),a="".concat(e.first_name," ").concat(e.last_name).toLowerCase(),r="".concat(e.last_name," ").concat(e.first_name).toLowerCase(),n=(e.school_name||"").toLowerCase();return a.includes(t)||r.includes(t)||n.includes(t)});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-200 bg-slate-50",children:(0,a.jsxs)("div",{className:"max-w-md",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Search Athletes"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"Search by athlete name or school...",className:"w-full px-4 py-2 pl-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),s&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-slate-600",children:["Showing ",l.length," of ",t.length," athletes"]})]})}),(0,a.jsx)(j,{athletes:l})]})}function v(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{f().then(e=>{t(e),n(!1)})},[]),s)?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Athletes"}),(0,a.jsx)("p",{className:"text-slate-600 text-lg",children:"Complete directory of high school cross country athletes"})]}),(0,a.jsx)(o,{children:(0,a.jsxs)(m,{className:"py-12 text-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-slate-500",children:"Loading athletes..."})]})})]}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Athletes"}),(0,a.jsx)("p",{className:"text-slate-600 text-lg",children:"Complete directory of high school cross country athletes"})]}),(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{children:(0,a.jsxs)(i,{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["All Athletes (",e.length.toLocaleString(),")"]}),(0,a.jsx)("div",{className:"text-sm font-normal text-slate-500",children:"Sorted alphabetically by name"})]})}),(0,a.jsx)(m,{className:"p-0",children:(0,a.jsx)(N,{athletes:e})})]})]})}},7823:function(e,t,s){"use strict";s.d(t,{OQ:function(){return r}});var a=s(7440);let r=(0,a.eI)("https://nxhsgmujfjdncrconerr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54aHNnbXVqZmpkbmNyY29uZXJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzMDE2ODEsImV4cCI6MjA3Mzg3NzY4MX0.ZnKjJfe3Fv4Jv-dY-P0-ZnatFpW6DEI7nRUDtQ9wu4o")},345:function(e,t,s){"use strict";s.d(t,{L_:function(){return l},cn:function(){return n},mr:function(){return o}});var a=s(7042),r=s(4769);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}function l(e){let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let s=["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."][t.getDay()],a=t.getMonth()+1,r=t.getDate(),n=t.getFullYear();return"".concat(s," ").concat(a,"/").concat(r,"/").concat(n)}function o(e){if(!e||e<=0)return"--:--";let t=Math.floor(e/100);return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"),".").concat(Math.round(e%100).toString().padStart(2,"0"))}},1396:function(e,t,s){e.exports=s(8326)}},function(e){e.O(0,[872,985,326,971,472,744],function(){return e(e.s=5242)}),_N_E=e.O()}]);