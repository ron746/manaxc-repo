(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{3664:function(e,s,t){Promise.resolve().then(t.bind(t,5296))},5296:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(7437),l=t(2265),r=t(3082);function c(){let[e,s]=(0,l.useState)([]),[t,c]=(0,l.useState)(!0),[n,d]=(0,l.useState)(null),[o,i]=(0,l.useState)(""),[h,x]=(0,l.useState)(1),m=(0,r.createClientComponentClient)();(0,l.useEffect)(()=>{b()},[]);let b=async()=>{try{c(!0),d(null);let{data:e,error:t}=await m.from("schools").select("\n          id,\n          name,\n          created_at\n        ").order("name",{ascending:!0});if(t)throw t;s(e||[])}catch(e){console.error("Error loading schools:",e),d("Failed to load schools")}finally{c(!1)}},u=e.filter(e=>!o||e.name.toLowerCase().includes(o.toLowerCase())),g=Math.ceil(u.length/20),j=(h-1)*20,N=j+20,f=u.slice(j,N);return t?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xl font-semibold mb-2",children:"Loading Schools..."}),(0,a.jsx)("div",{className:"text-gray-600",children:"Getting school information..."})]})}):n?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"text-xl font-semibold mb-2 text-red-600",children:"Error"}),(0,a.jsx)("div",{className:"text-gray-600 mb-4",children:n}),(0,a.jsx)("button",{onClick:b,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Try Again"})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"Schools"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Browse all schools with their athletes and performance data"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:(0,a.jsxs)("div",{className:"max-w-md",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Schools"}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>{i(e.target.value),x(1)},placeholder:"Search by school name...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})}),(0,a.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",j+1,"-",Math.min(N,u.length)," of ",u.length," schools"]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-black",children:"School Directory"})}),0===u.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-500 mb-4",children:"No schools found matching your search."}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Try adjusting your search criteria."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b text-left bg-gray-50",children:[(0,a.jsx)("th",{className:"py-3 px-4 font-bold text-black",children:"School Name"}),(0,a.jsx)("th",{className:"py-3 px-4 font-bold text-black",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:f.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("a",{href:"/schools/".concat(e.id),className:"text-lg font-bold text-red-600 hover:text-red-800 transition-colors",children:e.name})}),(0,a.jsx)("td",{className:"py-4 px-4",children:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)("a",{href:"/schools/".concat(e.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"View School"})})})]},e.id))})]})})]}),g>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",h," of ",g]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>x(Math.max(1,h-1)),disabled:1===h,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>x(Math.min(g,h+1)),disabled:h===g,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})})}}},function(e){e.O(0,[872,82,971,472,744],function(){return e(e.s=3664)}),_N_E=e.O()}]);