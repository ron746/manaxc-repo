(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{1922:function(e,t,a){Promise.resolve().then(a.bind(a,5e3))},5e3:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),l=a(2265),n=a(3082),r=a(345);function d(){let[e,t]=(0,l.useState)([]),[a,d]=(0,l.useState)(!0),[c,i]=(0,l.useState)("meet_date"),[o,x]=(0,l.useState)("desc"),[m,u]=(0,l.useState)(1),h=(0,n.createClientComponentClient)();(0,l.useEffect)(()=>{b()},[]);let b=async()=>{try{d(!0);let{data:e,error:a}=await h.from("meets").select("\n          id,\n          name,\n          meet_date,\n          meet_type,\n          races(\n            id,\n            course:courses(name)\n          )\n        ").order("meet_date",{ascending:!1});if(a)throw a;let s=(null==e?void 0:e.map(e=>{var t,a,s,l,n,r,d,c;return{id:e.id,name:e.name,meet_date:e.meet_date,meet_type:e.meet_type,venue:((null===(a=null===(l=e.races)||void 0===l?void 0:null===(s=l[0])||void 0===s?void 0:s.course)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.name)||(null===(n=null===(d=e.races)||void 0===d?void 0:null===(r=d[0])||void 0===r?void 0:r.course)||void 0===n?void 0:n.name)||"N/A").split("|")[0].trim(),race_count:(null===(c=e.races)||void 0===c?void 0:c.length)||0}}))||[];t(s)}catch(e){console.error("Error loading meets:",e)}finally{d(!1)}},p=e=>{c===e?x("asc"===o?"desc":"asc"):(i(e),x("asc")),u(1)},y=[...e].sort((e,t)=>{let a=e[c],s=t[c];return("meet_date"===c&&(a=new Date(a).getTime(),s=new Date(s).getTime()),a<s)?"asc"===o?-1:1:a>s?"asc"===o?1:-1:0}),g=Math.ceil(y.length/50),f=(m-1)*50,v=f+50,j=y.slice(f,v),N=e=>{let{field:t}=e;return c!==t?(0,s.jsx)("span",{className:"text-gray-400",children:"↕"}):(0,s.jsx)("span",{className:"text-green-600",children:"asc"===o?"↑":"↓"})};return a?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-xl font-semibold",children:"Loading meets..."})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-black mb-2",children:"Cross Country Meets"}),(0,s.jsxs)("p",{className:"text-gray-600",children:[e.length," total meets"]})]})}),(0,s.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",f+1,"-",Math.min(v,y.length)," of ",y.length," meets"]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,s.jsx)("th",{onClick:()=>p("meet_date"),className:"py-3 px-4 text-left font-bold text-black cursor-pointer hover:bg-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Date ",(0,s.jsx)(N,{field:"meet_date"})]})}),(0,s.jsx)("th",{onClick:()=>p("name"),className:"py-3 px-4 text-left font-bold text-black cursor-pointer hover:bg-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Meet Name ",(0,s.jsx)(N,{field:"name"})]})}),(0,s.jsx)("th",{onClick:()=>p("meet_type"),className:"py-3 px-4 text-left font-bold text-black cursor-pointer hover:bg-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Type ",(0,s.jsx)(N,{field:"meet_type"})]})}),(0,s.jsx)("th",{onClick:()=>p("venue"),className:"py-3 px-4 text-left font-bold text-black cursor-pointer hover:bg-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["Venue ",(0,s.jsx)(N,{field:"venue"})]})}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-bold text-black",children:"Races"}),(0,s.jsx)("th",{className:"py-3 px-4 text-left font-bold text-black",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:j.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-3 px-4 whitespace-nowrap",children:(0,r.L_)(e.meet_date)}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("a",{href:"/meets/".concat(e.id),className:"font-bold text-blue-600 hover:text-blue-800",children:e.name})}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800",children:e.meet_type})}),(0,s.jsx)("td",{className:"py-3 px-4",children:e.venue}),(0,s.jsx)("td",{className:"py-3 px-4",children:e.race_count}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)("a",{href:"/meets/".concat(e.id),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"View Meet"})})]},e.id))})]})})}),g>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-4 border-t",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Page ",m," of ",g]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>u(1),disabled:1===m,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"First"}),(0,s.jsx)("button",{onClick:()=>u(Math.max(1,m-10)),disabled:m<=10,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"-10"}),(0,s.jsx)("button",{onClick:()=>u(Math.max(1,m-5)),disabled:m<=5,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"-5"}),(0,s.jsx)("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>u(Math.min(g,m+1)),disabled:m===g,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"}),(0,s.jsx)("button",{onClick:()=>u(Math.min(g,m+5)),disabled:m>g-5,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"+5"}),(0,s.jsx)("button",{onClick:()=>u(Math.min(g,m+10)),disabled:m>g-10,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"+10"}),(0,s.jsx)("button",{onClick:()=>u(g),disabled:m===g,className:"px-3 py-2 border rounded text-black disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Last"})]})]})]})})}},345:function(e,t,a){"use strict";a.d(t,{L_:function(){return r},cn:function(){return n},mr:function(){return d}});var s=a(7042),l=a(4769);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,s.W)(t))}function r(e){let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let a=["Sun.","Mon.","Tue.","Wed.","Thu.","Fri.","Sat."][t.getDay()],s=t.getMonth()+1,l=t.getDate(),n=t.getFullYear();return"".concat(a," ").concat(s,"/").concat(l,"/").concat(n)}function d(e){if(!e||e<=0)return"--:--";let t=Math.floor(e/100);return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"),".").concat(Math.round(e%100).toString().padStart(2,"0"))}}},function(e){e.O(0,[872,985,82,971,472,744],function(){return e(e.s=1922)}),_N_E=e.O()}]);