(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8632:function(e,t,s){Promise.resolve().then(s.bind(s,5721))},5721:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(7437),n=s(2265),a=s(6702);function l(){let[e,t]=(0,n.useState)({schools:0,athletes:0,courses:0,results:0}),[s,l]=(0,n.useState)([]),[o,i]=(0,n.useState)(!0),[d,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{m()},[]);let m=async()=>{try{c(null);let[e,s,r,n,o]=await Promise.all([a.kI.getAll(),Promise.resolve([]),a.kd.getAll(),a.Ab.getTotalCount(),a.jZ.getTotalCount()]);t({schools:(null==e?void 0:e.length)||0,athletes:o||0,courses:(null==r?void 0:r.length)||0,results:n||0});let i=await a.Bj.getAll();if(i){let e=new Date,t=new Date(e.getTime()-864e6),s=i.filter(e=>{let s=new Date(e.meet_date);return!isNaN(s.getTime())&&s>=t}).sort((e,t)=>new Date(t.meet_date).getTime()-new Date(e.meet_date).getTime()).slice(0,10);if(s.length<5){let e=i.filter(e=>!isNaN(new Date(e.meet_date).getTime())).sort((e,t)=>new Date(t.meet_date).getTime()-new Date(e.meet_date).getTime()).slice(0,5);l(e)}else l(s)}}catch(e){console.error("Error loading data:",e),c("Failed to load data: ".concat((e instanceof Error?e.message:String(e))||"Unknown error"))}finally{i(!1)}},h=e=>{let t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return o?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("div",{className:"text-xl font-semibold text-slate-700 mb-2",children:"Loading Mana Running..."}),(0,r.jsx)("div",{className:"text-slate-500",children:"Connecting to database..."})]})}):d?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("div",{className:"text-xl font-semibold mb-2 text-red-600",children:"Connection Error"}),(0,r.jsx)("div",{className:"text-slate-600 mb-6",children:d}),(0,r.jsx)("button",{onClick:m,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Retry Connection"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[(0,r.jsxs)("div",{className:"relative bg-gradient-to-r from-slate-900 via-blue-900 to-slate-900 text-white overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),(0,r.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}}),(0,r.jsx)("div",{className:"relative container mx-auto px-6 py-20",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsxs)("div",{className:"inline-flex items-center bg-blue-600/20 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-blue-400/30",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse"}),(0,r.jsx)("span",{className:"text-blue-200 text-sm font-medium",children:"Celebrating the Spirit of Cross Country"})]}),(0,r.jsx)("h1",{className:"text-5xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Welcome to Mana Running"}),(0,r.jsx)("p",{className:"text-xl lg:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Where passion meets performance. Track every stride, celebrate every breakthrough, and discover the stories that make high school cross country extraordinary."}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:(0,r.jsx)("a",{href:"/meets",className:"group bg-white text-slate-900 px-8 py-4 rounded-xl hover:bg-blue-50 transition-all duration-300 font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:(0,r.jsxs)("span",{className:"flex items-center justify-center",children:["Explore Meets",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})}),(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:(0,r.jsx)("p",{className:"text-blue-100 leading-relaxed italic",children:'"Mana Running embodies the spirit of cross country - the relentless pursuit of personal bests, the bonds forged through shared struggle, and the pure joy of running fast on beautiful courses. Here, every athlete\'s journey matters, from the front runner chasing records to the determined competitor seeking their breakthrough moment."'})})]})})]}),(0,r.jsxs)("div",{className:"container mx-auto px-6 py-16",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Performance Hub"}),(0,r.jsx)("p",{className:"text-slate-600 text-lg",children:"Real-time insights into the high school distance running community"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:[(0,r.jsx)("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-blue-200",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-100 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-slate-600 group-hover:text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h6m-6 4h6m-6 4h6"})})}),(0,r.jsx)("div",{className:"text-3xl font-bold text-slate-800 mb-1",children:e.schools.toLocaleString()}),(0,r.jsx)("div",{className:"text-slate-600 font-medium",children:"Schools"})]})}),(0,r.jsx)("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-red-200",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-red-100 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsx)("div",{className:"text-3xl font-bold text-red-600 mb-1",children:e.athletes.toLocaleString()}),(0,r.jsx)("div",{className:"text-slate-600 font-medium",children:"Athletes"})]})}),(0,r.jsx)("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-green-200",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-green-100 transition-colors",children:(0,r.jsxs)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:e.courses.toLocaleString()}),(0,r.jsx)("div",{className:"text-slate-600 font-medium",children:"Courses"})]})}),(0,r.jsx)("div",{className:"group bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-slate-100 hover:border-blue-200",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-100 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:e.results.toLocaleString()}),(0,r.jsx)("div",{className:"text-slate-600 font-medium",children:"Results"})]})})]}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto mb-16",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center mr-4",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Recent Meets"}),(0,r.jsx)("p",{className:"text-blue-100 text-sm",children:"Latest competitions and results"})]})]})}),(0,r.jsx)("div",{className:"p-6",children:0===s.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("div",{className:"text-slate-500 font-medium mb-2",children:"No recent meets"}),(0,r.jsx)("div",{className:"text-slate-400 text-sm",children:"Check back for new race results"})]}):(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>{var t;return(0,r.jsx)("div",{className:"group border border-slate-100 rounded-xl p-4 hover:border-blue-200 hover:bg-blue-50/50 transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("a",{href:"/meets/".concat(e.id),className:"font-semibold text-slate-800 group-hover:text-blue-700 transition-colors line-clamp-2",children:e.name}),(null===(t=e.course)||void 0===t?void 0:t.name)&&(0,r.jsx)("div",{className:"text-slate-500 text-sm mt-1",children:e.course.name})]}),(0,r.jsxs)("div",{className:"text-right ml-4 flex-shrink-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-700 mb-1",children:h(e.meet_date)}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("Boys"===e.gender?"bg-blue-100 text-blue-800":"Girls"===e.gender?"bg-pink-100 text-pink-800":"bg-slate-100 text-slate-700"),children:e.gender})]})]})},e.id)})})})]})}),(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Explore Mana Running"}),(0,r.jsx)("p",{className:"text-slate-600 text-lg",children:"Dive deeper into the world of high school cross country"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsx)("a",{href:"/schools",className:"group bg-gradient-to-br from-red-500 to-red-600 text-white p-8 rounded-2xl hover:from-red-600 hover:to-red-700 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h6m-6 4h6m-6 4h6"})})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Schools & Teams"}),(0,r.jsx)("p",{className:"text-red-100 leading-relaxed",children:"Discover team rosters, coaching philosophies, and the competitive spirit that drives each program forward."})]})}),(0,r.jsx)("a",{href:"/courses",className:"group bg-gradient-to-br from-green-500 to-green-600 text-white p-8 rounded-2xl hover:from-green-600 hover:to-green-700 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:(0,r.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Courses & Venues"}),(0,r.jsx)("p",{className:"text-green-100 leading-relaxed",children:"Explore the legendary courses where champions are made and records are shattered across beautiful landscapes."})]})}),(0,r.jsx)("a",{href:"/admin",className:"group bg-gradient-to-br from-yellow-500 to-orange-500 text-white p-8 rounded-2xl hover:from-yellow-600 hover:to-orange-600 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:(0,r.jsxs)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Coach's Corner"}),(0,r.jsx)("p",{className:"text-yellow-100 leading-relaxed",children:"Access comprehensive tools for data management, team analysis, and performance tracking insights."})]})})]})]})]})}},6702:function(e,t,s){"use strict";s.d(t,{Ab:function(){return i},Bj:function(){return l},jZ:function(){return n},kI:function(){return a},kd:function(){return o}});var r=s(7823);let n={async getAll(){let{data:e,error:t}=await r.OQ.from("athletes").select("\n        *,\n        school:schools(id, name)\n      ").order("last_name");if(t)throw t;return e},async getById(e){let{data:t,error:s}=await r.OQ.from("athletes").select("\n        *,\n        school:schools(*)\n      ").eq("id",e).single();if(s)throw s;return t},async getTotalCount(){let{count:e,error:t}=await r.OQ.from("athletes").select("*",{count:"exact",head:!0});if(t)throw t;return e},async create(e){let{data:t,error:s}=await r.OQ.from("athletes").insert(e).select("\n        *,\n        school:schools(name)\n      ").single();if(s)throw s;return t},async update(e,t){let{data:s,error:n}=await r.OQ.from("athletes").update(t).eq("id",e).select("\n        *,\n        school:schools(name)\n      ").single();if(n)throw n;return s}},a={async getAll(){let{data:e,error:t}=await r.OQ.from("schools").select("*").order("name");if(t)throw t;return e}},l={async getAll(){let{data:e,error:t}=await r.OQ.from("meets").select("\n        *,\n        races(\n          id,\n          name,\n          category,\n          gender,\n          total_participants,\n          course:courses(name)\n        )\n      ").order("meet_date",{ascending:!1});if(t)throw t;return e},async getById(e){let{data:t,error:s}=await r.OQ.from("meets").select("\n        *,\n        course:courses(*),\n        results(\n          *,\n          athlete:athletes(\n            *,\n            school:schools(name)\n          )\n        )\n      ").eq("id",e).single();if(s)throw s;return t},async create(e){let t={name:e.name,meet_date:e.date,course_id:e.course_id,meet_type:e.meet_type,weather_conditions:e.weather_conditions},{data:s,error:n}=await r.OQ.from("meets").insert(t).select("\n      *,\n      course:courses(name)\n    ").single();if(n)throw n;return s},async update(e,t){let{data:s,error:n}=await r.OQ.from("meets").update(t).eq("id",e).select("\n        *,\n        course:courses(name)\n      ").single();if(n)throw n;return s},async delete(e){let{data:t}=await r.OQ.from("results").select("id").eq("meet_id",e);t&&t.length>0&&await r.OQ.from("results").delete().eq("meet_id",e);let{error:s}=await r.OQ.from("meets").delete().eq("id",e);if(s)throw s;return{deletedResultsCount:(null==t?void 0:t.length)||0}}},o={async getAll(){let{data:e,error:t}=await r.OQ.from("courses").select("\n        id,\n        created_at,\n        name,\n        distance_meters,\n        distance_miles,\n        mile_difficulty,\n        xc_time_rating,\n        rating_confidence,\n        rating_last_updated,\n        total_results_count,\n        meets(count)\n      ").order("name");if(t)throw t;return null==e?void 0:e.map(e=>{var t;return{...e,meets_count:(null===(t=e.meets[0])||void 0===t?void 0:t.count)||0}})},async getById(e){let{data:t,error:s}=await r.OQ.from("courses").select("\n        *,\n        meets(*)\n      ").eq("id",e).single();if(s)throw s;return t},async create(e){let{data:t,error:s}=await r.OQ.from("meets").insert({name:e.name,meet_date:e.date,course_id:e.course_id,meet_type:e.meet_type}).select().single();if(s)throw s;return t},async update(e,t){let{data:s,error:n}=await r.OQ.from("courses").update(t).eq("id",e).select().single();if(n)throw n;return s},async delete(e){let{data:t}=await r.OQ.from("meets").select("id").eq("course_id",e);if(t&&t.length>0)throw Error("Cannot delete course. ".concat(t.length," meets use this course. Delete meets first."));let{error:s}=await r.OQ.from("courses").delete().eq("id",e);if(s)throw s;return!0}},i={async getAll(){let{data:e,error:t}=await r.OQ.from("results").select("\n        *,\n        athlete:athletes(first_name, last_name, graduation_year, school:schools(name)),\n        meet:meets(name, meet_date, course:courses(name))\n      ").order("meet_id",{ascending:!1});if(t)throw t;return e},async getAllWithDetails(){let{data:e,error:t}=await r.OQ.from("results_with_details").select("*").order("meet_date",{ascending:!1});if(t)throw t;return e},async getByMeetId(e){let{data:t,error:s}=await r.OQ.from("results").select("\n        *,\n        athlete:athletes(id, first_name, last_name, graduation_year, school:schools(name))\n      ").eq("meet_id",e).order("place_overall");if(s)throw s;return t},async create(e){let{data:t,error:s}=await r.OQ.from("results").insert(e).select("\n        *,\n        athlete:athletes(first_name, last_name, school:schools(name)),\n        meet:meets(name, meet_date)\n      ").single();if(s)throw s;return t},async update(e,t){let{data:s,error:n}=await r.OQ.from("results").update(t).eq("id",e).select("\n        *,\n        athlete:athletes(first_name, last_name, school:schools(name)),\n        meet:meets(name, meet_date)\n      ").single();if(n)throw n;return s},async delete(e){let{error:t}=await r.OQ.from("results").delete().eq("id",e);if(t)throw t;return!0},async deleteMultiple(e){let{error:t}=await r.OQ.from("results").delete().in("id",e);if(t)throw t;return!0},async searchAllResults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,s=r.OQ.from("results_with_details").select("*").order("meet_date",{ascending:!1});e&&(s=s.or("first_name.ilike.%".concat(e,"%,last_name.ilike.%").concat(e,"%,school_name.ilike.%").concat(e,"%,meet_name.ilike.%").concat(e,"%")));let{data:n,error:a}=await s.limit(t);if(a)throw a;return n},async getAllWithPagination(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,s=(e-1)*t,{data:n,error:a}=await r.OQ.from("results_with_details").select("*").order("meet_date",{ascending:!1}).range(s,s+t-1);if(a)throw a;return n},async getTotalCount(){let{count:e,error:t}=await r.OQ.from("results_with_details").select("*",{count:"exact",head:!0});if(t)throw t;return e}}},7823:function(e,t,s){"use strict";s.d(t,{OQ:function(){return n}});var r=s(7440);let n=(0,r.eI)("https://nxhsgmujfjdncrconerr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im54aHNnbXVqZmpkbmNyY29uZXJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzMDE2ODEsImV4cCI6MjA3Mzg3NzY4MX0.ZnKjJfe3Fv4Jv-dY-P0-ZnatFpW6DEI7nRUDtQ9wu4o")}},function(e){e.O(0,[872,971,472,744],function(){return e(e.s=8632)}),_N_E=e.O()}]);